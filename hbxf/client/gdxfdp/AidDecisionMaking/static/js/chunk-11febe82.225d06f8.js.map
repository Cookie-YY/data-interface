{"version":3,"sources":["webpack:///./src/views/mdfxyjyp/erJiViews/yjyc.vue?e4bd","webpack:///src/views/mdfxyjyp/erJiViews/yjyc.vue","webpack:///./src/views/mdfxyjyp/erJiViews/yjyc.vue?f7ca","webpack:///./src/views/mdfxyjyp/erJiViews/yjyc.vue","webpack:///./src/views/mdfxyjyp/erJiViews/yjyc.vue?248e"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","mapParams","options","JSON","cookieCity","on","mapBack","_e","attrs","handleMap","yjztData","shej_02","shij_02","xj_02","zsLineParams","staticRenderFns","component"],"mappings":"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","file":"static/js/chunk-11febe82.225d06f8.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrapper\"},[_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"w-left\"},[_c('div',{staticClass:\"charts\"},[(_vm.mapParams.options.JSON!==_vm.cookieCity)?_c('div',{staticClass:\"map-back\",on:{\"click\":_vm.mapBack}}):_vm._e(),_c('transition',{attrs:{\"name\":\"fade\"}},[(_vm.mapFlag)?_c('Map',{attrs:{\"params\":_vm.mapParams},on:{\"change\":_vm.handleMap}}):_vm._e()],1)],1)]),_c('div',{staticClass:\"w-right\"},[_c('div',{staticClass:\"part ct-top\"},[(_vm.yjztData.length)?_c('yjzt',{attrs:{\"data\":_vm.yjztData}}):_vm._e()],1),_c('div',{staticClass:\"part ct-bottom\"},[_c('ctitle',{attrs:{\"title\":(\"\" + _vm.shej_02 + (_vm.shij_02==='invalid'?'':_vm.shij_02) + (_vm.xj_02==='invalid'?'':_vm.xj_02) + \"信访量走势\")}}),_c('div',{staticClass:\"chart\"},[_c('LinesR',{attrs:{\"params\":_vm.zsLineParams}})],1)],1)])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"wrapper\">\n    <div class=\"content\">\n      <div class=\"w-left\">\n        <div class=\"charts\">\n          <div v-if=\"mapParams.options.JSON!==cookieCity\" class=\"map-back\" @click=\"mapBack\"></div>\n          <transition name=\"fade\">\n            <Map v-if=\"mapFlag\" :params=\"mapParams\" @change=\"handleMap\"></Map>\n          </transition>\n        </div>\n      </div>\n      <div class=\"w-right\">\n        <div class=\"part ct-top\">\n          <yjzt v-if=\"yjztData.length\" :data=\"yjztData\"></yjzt>\n        </div>\n        <div class=\"part ct-bottom\">\n          <ctitle\n            :title=\"`${shej_02}${shij_02==='invalid'?'':shij_02}${xj_02==='invalid'?'':xj_02}信访量走势`\"></ctitle>\n          <div class=\"chart\">\n            <LinesR :params=\"zsLineParams\"></LinesR>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n  import Cookies from 'js-cookie'\n  import {get_http} from \"@/api/index\";\n  import timeChange from \"@/components/timeChange/index\";\n  import ctitle from \"@/components/title/index\";\n  import LinesR from \"@/components/line/LinesR\";\n  import Map from \"@/components/map/Map2\";\n  import yjzt from \"@/components/yjzt/index\";\n\n  export default {\n    name: \"xstz\",\n    components: {\n      ctitle,\n      LinesR,\n      timeChange,\n      Map,\n      yjzt\n    },\n    data() {\n      return {\n        curCity: \"广东省\",\n        shijCity: \"\",\n        shej_02: \"invalid\",\n        shij_02: \"invalid\",\n        xj_02: \"invalid\",\n        nameP: \"\",\n        mapJson: {\n          \"广东省\": \"440000\",\n          \"广州市\": \"440100\",\n          \"韶关市\": \"440200\",\n          \"深圳市\": \"440300\",\n          \"珠海市\": \"440400\",\n          \"汕头市\": \"440500\",\n          \"佛山市\": \"440600\",\n          \"江门市\": \"440700\",\n          \"湛江市\": \"440800\",\n          \"茂名市\": \"440900\",\n          \"肇庆市\": \"441200\",\n          \"惠州市\": \"441300\",\n          \"梅州市\": \"441400\",\n          \"汕尾市\": \"441500\",\n          \"河源市\": \"441600\",\n          \"阳江市\": \"441700\",\n          \"清远市\": \"441800\",\n          \"东莞市\": \"441900\",\n          \"中山市\": \"442000\",\n          \"潮州市\": \"445100\",\n          \"揭阳市\": \"445200\",\n          \"云浮市\": \"445300\",\n        },\n        //1.地图\n        mapFlag: false,\n        mapParams: {\n          canvasStyle: {\n            width: \"100%\",\n            height: \"100%\",\n          },\n          data: [],\n          options: {\n            isHome: false,\n            JSON: \"440000\",\n            xName: \"name\",\n            yName: \"value\",\n            map: {\n              \"value\": \"信访量\"\n            },\n            carousel: false\n          }\n        },\n        //2.预警状态\n        yjztData:[],\n        // 3.受理量走势\n        zsLineParams: {\n          data: [],\n          colors: [\n            {\n              line: \"rgba(26, 130, 247, 1)\",\n              start: \"rgba(26, 130, 247, 0.3)\",\n              end: \"rgba(26, 130, 247, 0)\"\n            },\n            {\n              line: \"rgba(253, 89, 176, 1)\",\n              start: \"rgba(253, 89, 176, 0.3)\",\n              end: \"rgba(253, 89, 176, 0)\"\n            }\n          ],\n          option: {\n            tooltipShow:false,\n            type:true,\n            showSymbol:true,\n            splitLineShow: true,\n            legendShow: true,\n            legenditemWidth: 22,\n            legenditemHeight: 4,\n            axisLabelShow: true,\n            axisTickShow: false,\n            axisCategoryName: \"日\",\n            axisYName: \"\",\n            axisLabelSize: 14,\n            scales: true,\n            axisLabelFontSize: 16,\n            yaxisLabelFontSize: 14,\n            Tofixed: false,\n            smooth: false,\n            areaShow: 1,\n            smoothMonotone: \"none\",\n            dataZoomshow: false,\n            legendIcon: \"rect\",\n            left: \"8%\",\n            right: \"10%\",\n            top: \"15%\",\n            bottom: \"10%\",\n            legendTop: \"2%\",\n            legendRight: \"10%\",\n            dashKey:\"预估\"\n          },\n          canvasStyle: {\n            width: \"100%\",\n            height: \"100%\"\n          },\n          map: {},\n          xName: \"name\"\n        },\n      };\n    },\n    mounted() {\n      for (let key in this.mapJson) {\n        if (this.mapJson[key] === this.cookieCity) {\n          this.curCity = key\n        }\n      }\n      this.mapParams.options.JSON = this.cookieCity;\n      this.getMapAPI();\n    },\n    methods: {\n      // 1.全省信访量-地图\n      getMapAPI() {\n        // 处理接口参数\n        // 省级\n        if (this.curCity === '广东省') {\n          this.shej_02 = this.curCity;\n          this.shij_02 = 'invalid';\n          this.xj_02 = 'invalid';\n          this.nameP = 'shij_02';\n        } else {\n          // 市级\n          if (this.shijCity) {\n            this.shej_02 = '广东省';\n            this.shij_02 = this.shijCity;\n            this.xj_02 = 'invalid';\n            this.nameP = 'xj_02';\n          } else {\n            // 县区级\n            this.shej_02 = '广东省';\n            this.shij_02 = this.shijCity;\n            this.xj_02 = this.curCity;\n            this.nameP = 'invalid';\n          }\n        }\n        get_http(\"mdfxyjypYjycMap\", {\n          shej_02: this.shej_02,\n          shij_02: this.shij_02,\n          xj_02: this.xj_02,\n          name: this.nameP,\n        })\n          .then(res => {\n            this.mapParams.data = res.data.data;\n            this.mapFlag = true;\n            this.getAPI();\n          })\n          .catch(err => {\n            console.log(err);\n          });\n      },\n      getAPI() {\n        console.log(\"shej_02:\" + this.shej_02);\n        console.log(\"shij_02:\" + this.shij_02);\n        console.log(\"xj_02:\" + this.xj_02);\n        this.getYjztAPI();\n        this.getZsLineAPI();\n      },\n      // 2.预警状态\n      getYjztAPI() {\n        get_http(\"mdfxyjypYjycYjzt\", {\n          shej_02: this.shej_02,\n          shij_02: this.shij_02,\n          xj_02: this.xj_02,\n        })\n          .then(res => {\n            this.yjztData = res.data.data;\n          })\n          .catch(err => {\n            console.log(err);\n          });\n      },\n      // 3.受理量走势\n      getZsLineAPI() {\n        get_http(\"mdfxyjypYjyczsLine\", {\n          shej_02: this.shej_02,\n          shij_02: this.shij_02,\n          xj_02: this.xj_02,\n        })\n          .then(res => {\n            this.zsLineParams.map = res.data.map;\n            this.zsLineParams.data = res.data.data;\n          })\n          .catch(err => {\n            console.log(err);\n          });\n      },\n      // 点击地图下钻\n      handleMap(name) {\n        this.curCity = name;\n        for (let key in this.mapJson) {\n          if (this.curCity === key) {\n            this.mapFlag = false;\n            this.mapParams.options.JSON = this.mapJson[name];\n          }\n        }\n      },\n      // 地图返回全省\n      mapBack() {\n        this.mapFlag = false;\n        this.curCity = \"广东省\";\n        this.mapParams.options.JSON = \"440000\";\n      },\n    },\n    computed: {\n      cookieCity(){\n        return Cookies.get('xzqhdm')\n      }\n    },\n    watch: {\n      curCity: function (newVal, oldVal) {\n        if (newVal === '广东省') {\n          this.getMapAPI();\n        } else {\n          let c = '';\n          for (let key in this.mapJson) {\n            if (newVal === key) {\n              this.shijCity = newVal;\n              c = newVal;\n              this.getMapAPI();\n            }\n          }\n          if (!c) {\n            this.xj_02 = newVal;\n            this.getAPI()\n          }\n        }\n      }\n    }\n  };\n</script>\n\n<style lang=\"stylus\" scoped>\n  .wrapper\n    position relative\n    top 0.8rem\n    height calc(100% - 0.8rem)\n    .content\n      width 100%\n      height 100%\n      display flex\n      padding .2rem .3rem\n      box-sizing border-box\n      .chart\n        box-sizing border-box\n        width 100%\n        height calc(100% - 0.28rem)\n      .w-left\n        position relative\n        flex 1\n        display flex\n        flex-direction column\n        .charts\n          position relative\n          flex 1\n          width 100%\n          height 100%\n        .fade-enter-active, .fade-leave-active\n          transform scale(1)\n          transition all 0.8s\n\n        .fade-enter, .fade-leave-to\n          opacity 0\n          transform scale(0)\n        .map-back\n          position absolute\n          top 30px\n          right 60px\n          z-index 1000\n          width 30px\n          height 30px\n          background url(\"~@/assets/back-icon.png\") no-repeat\n          cursor pointer\n      .w-right\n        display flex\n        flex 1\n        flex-direction column\n        box-sizing border-box\n        .part\n          position relative\n          flex 1\n          width 100%\n          height 100%\n        .ct-top\n          .chart\n            position relative\n        .ct-bottom\n          width 100%\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./yjyc.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./yjyc.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./yjyc.vue?vue&type=template&id=a76a6166&scoped=true&\"\nimport script from \"./yjyc.vue?vue&type=script&lang=js&\"\nexport * from \"./yjyc.vue?vue&type=script&lang=js&\"\nimport style0 from \"./yjyc.vue?vue&type=style&index=0&id=a76a6166&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a76a6166\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./yjyc.vue?vue&type=style&index=0&id=a76a6166&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./yjyc.vue?vue&type=style&index=0&id=a76a6166&lang=stylus&scoped=true&\""],"sourceRoot":""}
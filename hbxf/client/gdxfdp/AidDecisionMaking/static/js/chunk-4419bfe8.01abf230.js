(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4419bfe8"],{1646:function(t,a,e){"use strict";var s=e("7923"),i=e.n(s);i.a},"23b6":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"wrapper"},[e("div",{staticClass:"content"},[e("div",{staticClass:"w-left"},[e("ctitle",{attrs:{title:"信访量一级内容分布"}}),e("div",{staticClass:"left-t"},[e("div",{staticClass:"count"},[e("allCount",{staticClass:"all-count",attrs:{count:t.allcount}})],1),e("div",{staticClass:"detail"},[e("detailList",{attrs:{params:t.detailList}})],1)]),e("div",{staticClass:"inner3"},[e("div",{staticClass:"chart"},[e("pie-chart3D",{attrs:{params:t.wtflPieParams},on:{change:t.popShow}})],1)])],1),e("div",{staticClass:"w-right"},[e("ctitle",{attrs:{title:"信访量一级内容热点"}}),e("div",{staticClass:"inner"},t._l(t.hotListData,(function(a,s){return a.data.length?e("hotList",{key:s,attrs:{params:a}}):t._e()})),1)],1)]),t.popLists?e("popLists",{ref:"popLists",attrs:{data:t.popLists}}):t._e()],1)},i=[],n=(e("99af"),e("365c")),r=(e("dd01"),e("9539")),l=e("840a"),c=e("8d3a"),o=e("910f"),u=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"hot-list"},[e("div",{staticClass:"hotYear"},[e("p",[t._v(t._s(t.params.year)+"年")])]),e("div",{staticClass:"w-rank"},[t._m(0),e("div",{staticClass:"chart"},t._l(t.params.data,(function(a,s){return e("div",{key:s,staticClass:"bar-item"},[e("label",{attrs:{title:a.name}},[t._v(t._s(a.name))]),e("div",{staticClass:"bar-cont"},[e("div",{staticClass:"bar-img",style:{width:t.barW(a.value)}})]),e("div",{staticClass:"inc"},[t._v(t._s(a.value))])])})),0)])])},d=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"rankList"},[e("p",[t._v("1")]),e("p",[t._v("2")]),e("p",[t._v("3")])])}],p=(e("d3b7"),e("ddb0"),e("3835")),h=e("b85c"),m={name:"hotList",props:{params:{type:Object}},data:function(){return{hotListData:[],barBgW:0}},mounted:function(){var t,a=Object(h["a"])(this.params.data.entries());try{for(a.s();!(t=a.n()).done;){var e=Object(p["a"])(t.value,2),s=(e[0],e[1]);this.barBgW=this.barBgW>s.value?this.barBgW:s.value}}catch(i){a.e(i)}finally{a.f()}},methods:{barW:function(t){return t/this.barBgW*100+"%"}}},f=m,b=(e("dfc7"),e("2877")),v=Object(b["a"])(f,u,d,!1,null,"3c952623",null),g=v.exports,y=e("852e"),_={name:"nrfl",props:{btnStatus:{type:String}},components:{ctitle:r["a"],PieChart3D:l["a"],allCount:c["a"],detailList:o["a"],hotList:g,popLists:y["a"]},data:function(){return{popLists:null,wtflPieParams:{data:[],color:["#6f69ff","#59eaff","#74d650","#f0ff87","#ff965d","#5fffb6","#61c6ff","#dda2ea","#745cc5","#ffc343","#fb548f","#a7f68d","#6994ff"],angle:30,radius:"40%",labelRadius:60,depth3D:30,styleObj:{width:"100%",height:"100%"}},detailList:{},allcount:-1,hotListData:[],hotYearArr:[],hotListIndex:0}},mounted:function(){this.getAPI(this.date)},methods:{popShow:function(t){var a=this,e=t.id;e&&Object(n["a"])("popLists",{query:e,query_date:this.btnStatus,day:"[".concat(this.date.startDate,",").concat(this.date.endDate,"]")}).then((function(t){a.popLists=t.data,a.$nextTick((function(){a.$refs.popLists.popListsShow=!0}))})).catch((function(t){console.log(t)}))},handleHotList:function(){var t=new Date,a=t.getFullYear();this.hotYearArr=[a,a-1,a-2],this.getHotListAPI()},getHotListAPI:function(){var t=this;Object(n["a"])("qjywjkXfjjkNrflHotBar",{year:this.hotYearArr[this.hotListIndex]}).then((function(a){if(t.hotListIndex<t.hotYearArr.length){var e={year:t.hotYearArr[t.hotListIndex],data:a.data.data};t.hotListData.push(e),t.hotListIndex++,t.getHotListAPI()}})).catch((function(t){console.log(t)}))},getAPI:function(t){var a=this;Object(n["a"])("qjywjkNrflZbTotal",{day:"[".concat(t.startDate,",").concat(t.endDate,"]"),gd_id3:this.btnStatus}).then((function(t){a.allcount=t.data.data[0].value})).catch((function(t){console.log(t)})),Object(n["a"])("qjywjkNrflZbType",{gd_id3:this.btnStatus,day:"[".concat(t.startDate,",").concat(t.endDate,"]"),limit:3}).then((function(t){a.detailList=t.data})).catch((function(t){console.log(t)})),Object(n["a"])("qjywjkNrflWtflPie",{gd_id3:this.btnStatus,day:"[".concat(t.startDate,",").concat(t.endDate,"]")}).then((function(t){a.wtflPieParams.data=t.data.data})).catch((function(t){console.log(t)})),this.handleHotList()}},computed:{date:function(){return this.$store.state.date}},watch:{date:function(t){this.getAPI(t)},btnStatus:function(t){this.getAPI(this.date)}}},C=_,x=(e("6147"),Object(b["a"])(C,s,i,!1,null,"7e910902",null));a["default"]=x.exports},"267b":function(t,a,e){},"4de4":function(t,a,e){"use strict";var s=e("23e7"),i=e("b727").filter,n=e("1dde"),r=e("ae40"),l=n("filter"),c=r("filter");s({target:"Array",proto:!0,forced:!l||!c},{filter:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},6147:function(t,a,e){"use strict";var s=e("a0dc"),i=e.n(s);i.a},7707:function(t,a,e){},7923:function(t,a,e){},"852e":function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("transition",{attrs:{name:"fade"}},[t.popListsShow?e("div",{staticClass:"pop",on:{click:function(a){return a.target!==a.currentTarget?null:t.closePop(a)}}},[e("div",{staticClass:"pop-wrapper",style:{marginTop:t.popMarginTop+"px"}},[e("div",{staticClass:"inner"},[e("ul",{staticClass:"list-ul list-title clearfloat"},t._l(Object.values(t.data.map),(function(a,s){return e("li",{key:s,style:{width:t.columnW[s]+"px"}},[t._v(" "+t._s(a)+" ")])})),0),e("el-scrollbar",{ref:"myScrollbar",style:{height:t.list.length>t.singlePageNum?t.liItemH*t.singlePageNum+"px":t.list.length*t.liItemH+"px"}},[e("div",{staticClass:"lists-container",style:{height:t.data.length*t.liItemH+"px"}},[t._l(t.list,(function(a,s){return t.list.length?e("ul",{key:s+"list",staticClass:"list-ul clearfloat"},t._l(Object.keys(t.data.map),(function(i,n){return e("li",{key:i,class:{number:0===n},style:{width:t.columnW[n]+"px"},on:{click:function(e){return t.handlePop(e,n,s,a[i])}}},[t._v(" "+t._s(a[i])+" ")])})),0):t._e()})),e("transition",{attrs:{name:"fade"}},[t.popShow?e("div",{staticClass:"detail-pop",style:{left:t.popX+"px",top:t.popY+"px"}},[t.detailData?e("ul",{staticClass:"pop-ul clearfloat"},t._l(Object.keys(t.detailData.map),(function(a,s){return e("li",{key:s,staticClass:"pop-li"},[e("p",{staticClass:"name"},[t._v(t._s(t.detailData.map[a])+" : ")]),e("p",{staticClass:"value",attrs:{title:a.value}},[t._v(t._s(t.detailData.data[0][a]))])])})),0):t._e()]):t._e()])],2)])],1)])]):t._e()])},i=[],n=e("365c"),r={name:"index",props:{data:{type:Object,default:{}}},data:function(){return{popListsShow:!1,singlePageNum:10,popMarginTop:0,liItemH:70,columnW:[210,120,120,130,210,150,130,90,110,110,110,110],detailData:null,popShow:!1,numberId:0,popX:0,popY:0}},mounted:function(){var t=this.list.length>this.singlePageNum?this.singlePageNum:this.list.length;this.popMarginTop=(1080-(t+1)*this.liItemH-56)/2},methods:{handlePop:function(t,a,e,s){this.popX=t.clientX-150,this.popY=e<3?t.clientY-this.popMarginTop+this.$refs["myScrollbar"].wrap.scrollTop-50:t.clientY-this.popMarginTop+this.$refs["myScrollbar"].wrap.scrollTop-300,0===a&&(this.numberId===s?(this.popShow=!1,this.numberId=0):(this.popShow=!0,this.numberId=s,this.getDetailAPI(this.numberId)))},getDetailAPI:function(t){var a=this;Object(n["a"])("popListsDetail",{xfjbh:t}).then((function(t){a.detailData=t.data})).catch((function(t){console.log(t)}))},closePop:function(){this.popShow=!1,this.popListsShow=!1}},computed:{list:function(){return this.data.data}}},l=r,c=(e("aa3d"),e("2877")),o=Object(c["a"])(l,s,i,!1,null,"277679de",null);a["a"]=o.exports},"8d3a":function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.count<0,expression:"count<0"}],staticClass:"all-count",attrs:{"element-loading-background":t.$STANDARD.loadingBgColor}},[t.count>=0?e("div",{staticClass:"inner"},[e("incNumber",{staticClass:"number",style:{width:32*t.numMaxLength+"px"},attrs:{incNumber:t.count}}),e("span",{staticClass:"unit"},[t._v("件 次")])],1):t._e()])},i=[],n=(e("a9e3"),e("d3b7"),e("25f0"),e("ad97")),r={name:"allCount",components:{incNumber:n["a"]},props:{count:{type:Number,default:-1}},data:function(){return{numMaxLength:this.count.toString().length}},watch:{count:function(){this.count&&(this.numMaxLength=this.count.toString().length)}}},l=r,c=(e("1646"),e("2877")),o=Object(c["a"])(l,s,i,!1,null,"a7f7c144",null);a["a"]=o.exports},"910f":function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{directives:[{name:"loading",rawName:"v-loading",value:!t.listData.length,expression:"!listData.length"}],staticClass:"detail-list",attrs:{"element-loading-background":t.$STANDARD.loadingBgColor}},[e("div",{staticClass:"inner"},[e("ul",t._l(t.listData.slice(0,t.breakNumber),(function(a,s){return e("li",{key:s,staticClass:"item"},[e("p",{staticClass:"label",attrs:{title:a.name}},[t._v(t._s(a.name))]),e("div",{staticClass:"item-detail"},[e("p",{staticClass:"jc"},[e("incNumber",{staticClass:"number",style:{width:15*t.numMaxLength+"px"},attrs:{incNumber:a[t.mapKey[t.getArrayIndex("信访件次")]]}}),e("span",{staticClass:"number-unit"},[t._v("件次")]),e("incNumber",{staticClass:"percent",attrs:{incNumber:(100*a[t.mapKey[t.getArrayIndex("件次占比")]]).toFixed(2)}}),e("span",[t._v(t._s(a[t.mapKey[t.getArrayIndex("件次占比")]]))]),e("span",{staticClass:"per-unit"},[t._v("%")])],1),e("div"),e("p",{staticClass:"rc"},[e("incNumber",{staticClass:"number",style:{width:15*t.numMaxLength+"px"},attrs:{incNumber:a[t.mapKey[t.getArrayIndex("信访人次")]]}}),e("span",{staticClass:"number-unit"},[t._v("人次")]),e("incNumber",{staticClass:"percent",attrs:{incNumber:(100*a[t.mapKey[t.getArrayIndex("人次占比")]]).toFixed(2)}}),e("span",{staticClass:"per-unit"},[t._v("%")])],1)])])})),0),100!==t.breakNumber&&t.listData.length>t.breakNumber?e("ul",t._l(t.listData.slice(t.breakNumber),(function(a,s){return e("li",{key:s,staticClass:"item"},[e("p",{staticClass:"label",attrs:{title:a.name}},[t._v(t._s(a.name))]),e("div",{staticClass:"item-detail"},[e("p",{staticClass:"jc"},[e("incNumber",{staticClass:"number",style:{width:15*t.numMaxLength+"px"},attrs:{incNumber:a[t.mapKey[t.getArrayIndex("信访件次")]]}}),e("span",{staticClass:"number-unit"},[t._v("件次")]),e("incNumber",{staticClass:"percent",attrs:{incNumber:(100*a[t.mapKey[t.getArrayIndex("件次占比")]]).toFixed(2)}}),e("span",{staticClass:"per-unit"},[t._v("%")])],1),e("div"),e("p",{staticClass:"rc"},[e("incNumber",{staticClass:"number",style:{width:15*t.numMaxLength+"px"},attrs:{incNumber:a[t.mapKey[t.getArrayIndex("信访人次")]]}}),e("span",{staticClass:"number-unit"},[t._v("人次")]),e("incNumber",{staticClass:"percent",attrs:{incNumber:(100*a[t.mapKey[t.getArrayIndex("人次占比")]]).toFixed(2)}}),e("span",{staticClass:"per-unit"},[t._v("%")])],1)])])})),0):t._e()])])},i=[],n=(e("4de4"),e("d81d"),e("a9e3"),e("b64b"),e("d3b7"),e("07ac"),e("25f0"),e("ad97")),r={name:"detailList",components:{incNumber:n["a"]},props:{params:{type:[Object,Array],default:null},breakNumber:{type:Number,default:100}},data:function(){return{mapKey:[],mapValue:[],numMaxLength:0,listData:[]}},mounted:function(){},methods:{setLength:function(){this.mapKey=Object.keys(this.params.map),this.mapValue=Object.values(this.params.map);var t=[];this.params instanceof Array?this.listData=this.params:this.listData=this.params.data,this.listData.filter((function(a){t.push(Math.max(a.value_g0_1,a.value_g2_1).toString().length)})),this.numMaxLength=Math.max.apply(null,t)},getArrayIndex:function(t){var a=this.mapValue.length;while(a--)if(this.mapValue[a]===t)return a;return-1}},computed:{styleType:function(){return this.$store.state.styleType}},watch:{params:function(){this.setLength()}}},l=r,c=(e("eeab"),e("2877")),o=Object(c["a"])(l,s,i,!1,null,"d90025a6",null);a["a"]=o.exports},a0dc:function(t,a,e){},aa3d:function(t,a,e){"use strict";var s=e("cbef"),i=e.n(s);i.a},ad97:function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"incNumber"},[t._v(t._s(t.number))])},i=[],n=(e("a9e3"),e("b680"),e("d3b7"),e("ac1f"),e("25f0"),e("5319"),e("1276"),{name:"index",props:{incNumber:{type:[Number,String],default:function(){return 0}}},data:function(){return{number:0}},created:function(){this.init()},methods:{init:function(){this.NumAutoPlusAnimation({time:3e3,num:this.incNumber,regulator:100})},NumAutoPlusAnimation:function(t){var a=this;t=t||{};var e,s,i=t.time||10,n=void 0===t.num?0:t.num,r=t.regulator||100,l=n/(i/r),c=0,o=0;n%1!==0&&(e=String(n).split("."),s=e[1].length);var u=setInterval((function(){c+=l,c>=n&&(clearInterval(u),c=n);var t=0;t=n%1===0?Math.floor(c):Number(c).toFixed(s),t!==o&&(o=t,a.number=o)}),50)},formatMoney:function(t,a){if(/[^0-9\.]/.test(t))return"0.00";if(null==t||"null"==t||""==t)return"0.00";t=t.toString().replace(/^(\d*)$/,"$1."),t=(t+"00").replace(/(\d*\.\d\d)\d*/,"$1"),t=t.replace(".",",");var e=/(\d)(\d{3},)/;while(e.test(t))t=t.replace(e,"$1,$2");if(t=t.replace(/,(\d\d)$/,".$1"),0==a){var s=t.split(".");"00"==s[1]&&(t=s[0])}return t}},watch:{incNumber:{handler:function(t,a){this.number=t,this.init()},deep:!0}}}),r=n,l=(e("e869"),e("2877")),c=Object(l["a"])(r,s,i,!1,null,"6bb1458c",null);a["a"]=c.exports},c5150:function(t,a,e){},cbef:function(t,a,e){},dfc7:function(t,a,e){"use strict";var s=e("c5150"),i=e.n(s);i.a},e869:function(t,a,e){"use strict";var s=e("267b"),i=e.n(s);i.a},eeab:function(t,a,e){"use strict";var s=e("7707"),i=e.n(s);i.a}}]);
//# sourceMappingURL=chunk-4419bfe8.01abf230.js.map
{"version":3,"sources":["webpack:///./src/views/qjywjk/sanjiViews/xfbm.vue?8a80","webpack:///src/views/qjywjk/sanjiViews/xfbm.vue","webpack:///./src/views/qjywjk/sanjiViews/xfbm.vue?480e","webpack:///./src/views/qjywjk/sanjiViews/xfbm.vue","webpack:///./src/components/depSeach/index.vue?e036","webpack:///src/components/depSeach/index.vue","webpack:///./src/components/depSeach/index.vue?334f","webpack:///./src/components/depSeach/index.vue","webpack:///./src/views/qjywjk/sanjiViews/xfbm.vue?8f34","webpack:///./src/components/depSeach/index.vue?7176"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","on","handlePopShow","attrs","curName","length","_v","_s","popClick","_e","cplParams","cpqkPieParams","mylParams","pjqkPieParams","ref","sjxfBarParams","staticRenderFns","component","$event","popClose","_l","item","index","key","class","curLetter","name","disable","letterClick","curtab","tabClick","staticStyle","refInFor","it","i","changeClick","confirm","letterArr","push","obj","realLetterList"],"mappings":"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","file":"static/js/chunk-58a71af9.4a67d20c.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrapper\"},[_c('div',{staticClass:\"w-seach\",on:{\"click\":_vm.handlePopShow}},[_c('p',{attrs:{\"title\":_vm.curName.length>6?_vm.curName:''}},[_vm._v(_vm._s(_vm.curName))])]),_c('transition',{attrs:{\"name\":\"fade\"}},[(_vm.popShow)?_c('depSeach',{attrs:{\"name\":_vm.curName},on:{\"change\":_vm.popClick}}):_vm._e()],1),_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"c-left\"},[_c('ctitle',{attrs:{\"title\":'参评情况'}}),_c('div',{staticClass:\"cpl\"},[_c('liquidfill',{attrs:{\"params\":_vm.cplParams}}),_c('div',{staticClass:\"cpl-font\"},[_vm._v(\"参评率\")])],1),_c('div',{staticClass:\"cpl cpl3d\"},[_c('customized-pie',{attrs:{\"params\":_vm.cpqkPieParams}})],1)],1),_c('div',{staticClass:\"c-center\"},[_c('ctitle',{attrs:{\"title\":'评价情况'}}),_c('div',{staticClass:\"cpl\"},[_c('liquidfill',{attrs:{\"params\":_vm.mylParams}}),_c('div',{staticClass:\"cpl-font\"},[_vm._v(\"满意率\")])],1),_c('div',{staticClass:\"cpl cpl3d\"},[_c('customized-pie',{attrs:{\"params\":_vm.pjqkPieParams}})],1)],1),_c('div',{staticClass:\"c-right\"},[_c('ctitle',{attrs:{\"title\":'市级信访部门满意率排名TOP10'}}),_c('div',{staticClass:\"cpl\"},[_c('div',{ref:\"barEl\",staticClass:\"w-echart\",attrs:{\"id\":\"w-echart\"}},[_c('PaimBar',{attrs:{\"params\":_vm.sjxfBarParams}})],1)])],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"wrapper\">\r\n    <div class=\"w-seach\" @click=\"handlePopShow\">\r\n      <p :title=\"curName.length>6?curName:''\">{{curName}}</p>\r\n    </div>\r\n    <transition name=\"fade\">\r\n      <depSeach v-if=\"popShow\" :name=\"curName\" @change=\"popClick\"></depSeach>\r\n    </transition>\r\n    <div class=\"content\">\r\n      <div class='c-left'>\r\n        <ctitle :title=\"'参评情况'\"></ctitle>\r\n        <div class='cpl'>\r\n          <liquidfill :params='cplParams'></liquidfill>\r\n          <div class='cpl-font'>参评率</div>\r\n        </div>\r\n        <div class='cpl cpl3d'>\r\n          <customized-pie :params=\"cpqkPieParams\"></customized-pie>\r\n        </div>\r\n      </div>\r\n      <div class='c-center'>\r\n        <ctitle :title=\"'评价情况'\"></ctitle>\r\n        <div class='cpl'>\r\n          <liquidfill :params='mylParams'></liquidfill>\r\n          <div class='cpl-font'>满意率</div>\r\n        </div>\r\n        <div class='cpl cpl3d'>\r\n          <customized-pie :params=\"pjqkPieParams\"></customized-pie>\r\n        </div>\r\n      </div>\r\n      <div class='c-right'>\r\n        <ctitle :title=\"'市级信访部门满意率排名TOP10'\"></ctitle>\r\n        <div class='cpl'>\r\n          <!-- <sjpmBtn @change=\"changeBar\"></sjpmBtn> -->\r\n          <div class=\"w-echart\" id=\"w-echart\" ref=\"barEl\">\r\n              <PaimBar :params=\"sjxfBarParams\"></PaimBar>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import {get_http} from \"@/api/index\";\r\n  import PaimBar from \"@/components/bar/PaimBar\";\r\n  import ctitle from \"@/components/title/index\";\r\n  import liquidfill from \"@/components/liquidfill/Liquidfill\";\r\n  import CustomizedPie from '@/components/pie/CustomizedPie';\r\n  import depSeach from \"@/components/depSeach/index\";\r\n  import sjpmBtn from \"@/components/sjpmBtn/sjpmBtn\";\r\n  export default {\r\n    name: \"mydjk\",\r\n    components: {\r\n      ctitle,\r\n      liquidfill,\r\n      CustomizedPie,\r\n      depSeach,\r\n      PaimBar,\r\n      sjpmBtn\r\n    },\r\n    data() {\r\n      return {\r\n        // 市级信访部门满意率排名\r\n        sjxfBarParams: {\r\n          data: [],\r\n          canvasStyle: {\r\n            width: \"80%\",\r\n            height: \"100%\"\r\n          },\r\n        },\r\n        popShow: false,\r\n        loadFlag: false,\r\n        curName: '部门索引',\r\n        // 参评率\r\n        cplParams:{\r\n          data: [],\r\n          canvasStyle: {\r\n            width: '100%',\r\n            height: '100%'\r\n          },\r\n          options:{\r\n            radius: \"50%\",\r\n          }\r\n        },\r\n        // 满意率\r\n        mylParams:{\r\n          data: [],\r\n          canvasStyle: {\r\n            width: '100%',\r\n            height: '100%'\r\n          },\r\n          options:{\r\n            radius: \"50%\",\r\n          }\r\n        },\r\n        // 参评情况\r\n        cpqkPieParams: {\r\n          canvasStyle: {\r\n            width: '100%',\r\n            height: '100%'\r\n          },\r\n          options: {\r\n            colors:['rgb( 154, 5, 245 )','rgb( 68, 240, 233 )','rgb( 12, 129, 254 )','rgb( 235, 131, 124 )'],   //环形颜色\r\n            unti: '件',\r\n            labelColor: '#fff',\r\n            labelFontSize: 16, //21\r\n            labelLineSmooth: 0,\r\n            labelLineHeight: 23,\r\n            radius: '80%'\r\n          },\r\n          data: [\r\n              {value: 70, name: '已评价'},\r\n              {value: 12, name: '超期未评价'},\r\n              {value: 18, name: '待评价'}\r\n          ].sort(function (a, b) { return a.value - b.value; }),\r\n        },\r\n\r\n        // 评价情况\r\n        pjqkPieParams: {\r\n          canvasStyle: {\r\n            width: '100%',\r\n            height: '100%'\r\n          },\r\n          options: {\r\n            colors:['rgb( 154, 5, 245 )','rgb( 235, 131, 124 )','rgb( 68, 240, 233 )','rgb( 12, 129, 254 )',],   //环形颜色\r\n            unti: '件',\r\n            labelColor: '#fff',\r\n            labelFontSize: 16, //21\r\n            labelLineSmooth: 0,\r\n            labelLineHeight: 23,\r\n            radius: '80%'\r\n          },\r\n          data: [\r\n              {value: 70, name: '已评价'},\r\n              {value: 12, name: '超期未评价'},\r\n              {value: 18, name: '待评价'}\r\n          ].sort(function (a, b) { return a.value - b.value; }),\r\n        },\r\n      };\r\n    },\r\n    mounted() {\r\n      this.getAPI(this.date, this.curName);\r\n    },\r\n    methods: {\r\n      handlePopShow() {\r\n        this.popShow = true;\r\n      },\r\n      // 点击弹框后触发\r\n      popClick(name){\r\n        this.curName=(name === ''?'部门索引':name);\r\n        this.getAPI(this.date, this.curName);\r\n      },\r\n      getAPI(date, curName) {\r\n        // 2.参评情况&main_name=满意,不满意,基本满意,超期未评价\r\n        get_http(\"qjywjkMydjkXfbmCpqk\", {\r\n          main_name: '已评价,超期未评价',\r\n          xfbm: curName,\r\n          day: `[${date.startDate},${date.endDate}]`,\r\n          full: true\r\n        })\r\n        .then(res => {\r\n          this.cpqkPieParams.data = res.data.data;\r\n          this.cplParams.sum = this.sum(this.cpqkPieParams.data)\r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n        });\r\n        // 1.参评率&main_name=已评价,待评价,超期未评价\r\n        get_http(\"qjywjkMydjkXfbmCpl\", {\r\n          main_name: '已评价',\r\n          xfbm: curName,\r\n          day: `[${date.startDate},${date.endDate}]`,\r\n          full: true\r\n        })\r\n        .then(res => {\r\n          let pjData = res.data.data;\r\n          let cpjvalue = pjData[0].value === null ? 0 : pjData[0].value;\r\n          let proportion = 0;\r\n          if (this.cplParams.sum) {\r\n            proportion = cpjvalue / this.cplParams.sum\r\n          } else {\r\n            proportion = 0\r\n          }\r\n          this.cplParams.data = [{value: proportion}]\r\n          // error：值为null 组件的toFixed报错      \r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n        });\r\n        \r\n        // 4.评价情况main_name=满意,不满意,基本满意,超期未评价\r\n        get_http(\"qjywjkMydjkXfbmPjqk\", {\r\n          main_name: '满意,不满意,基本满意',\r\n          xfbm: curName,\r\n          day: `[${date.startDate},${date.endDate}]`,\r\n          full: true\r\n        })\r\n        .then(res => {\r\n          this.pjqkPieParams.data = res.data.data;\r\n          this.mylParams.sum = this.sum(this.pjqkPieParams.data)\r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n        });\r\n        \r\n        // 3.满意率\r\n        get_http(\"qjywjkMydjkXfbmMyl\", {\r\n          main_name: '满意,基本满意',\r\n          xfbm: curName,\r\n          day: `[${date.startDate},${date.endDate}]`,\r\n          full: true\r\n        })\r\n        .then(res => {\r\n          let myData = res.data.data;\r\n          // 计算满意的和\r\n          let mySum = this.sum(myData)\r\n          let proportion = 0;\r\n          // 总满意率是否为0\r\n          if (this.mylParams.sum) {\r\n            proportion = mySum / this.mylParams.sum\r\n          } else {\r\n            proportion = 0\r\n          }\r\n          this.mylParams.data = [{value: proportion}]\r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n        });\r\n        this.getSjxfAPI(date)\r\n      },\r\n      getSjxfAPI(data) {\r\n        // 5.市级信访部门满意率排名\r\n        get_http(\"qjywjkMydjkXfbmSjxfpm\", {data: data})\r\n          .then(res => {\r\n            this.sjxfBarParams.data = res.data.data.sort((a, b) => a.value - b.value);\r\n          })\r\n          .catch(err => {\r\n            console.log(err);\r\n          });\r\n      },\r\n      fontSize(res) {\r\n        let docEl = document.documentElement,\r\n          clientWidth = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;\r\n        if (!clientWidth) return;\r\n        let fontSize = 100 * (clientWidth / 1920);\r\n        return res * fontSize;\r\n      },\r\n      // 求和方法\r\n      sum(arr) {\r\n        let sum = 0\r\n        for(let i=0;i<arr.length;i++) {\r\n          sum += arr[i].value\r\n        }\r\n        return sum\r\n      }\r\n    },\r\n    computed: {\r\n      date() {\r\n        return this.$store.state.date;\r\n      }\r\n    },\r\n    watch: {\r\n      date(val) {\r\n        this.getAPI(val, this.curName);\r\n      }\r\n    }\r\n  };\r\n</script>\r\n\r\n<style lang=\"stylus\" scoped>\r\n  .wrapper\r\n    position relative\r\n    top 0.8rem\r\n    height calc(100% - 0.8rem)\r\n    .w-seach\r\n      position absolute\r\n      top -78px\r\n      right 113px\r\n      z-index 1000\r\n      box-sizing border-box\r\n      padding-left 42px\r\n      width 270px\r\n      line-height 70px\r\n      font-size 22px\r\n      color #cbfbff\r\n      background url(\"../../../assets/seach-bg3.png\") no-repeat\r\n      background-size 100% 100%\r\n      cursor pointer\r\n      p\r\n        width 150px\r\n        text-align center\r\n        white-space nowrap\r\n        overflow hidden\r\n        text-overflow ellipsis\r\n    .w-popup\r\n      position fixed\r\n      top 0\r\n      left 0\r\n      right 0\r\n      bottom 0\r\n      background rgba(0, 0, 0, 0.4)\r\n      z-index 1005\r\n      font-size 0\r\n    .content\r\n      width 100%\r\n      height 100%\r\n      display flex\r\n      flex-direction row\r\n      padding .2rem .3rem\r\n      box-sizing border-box\r\n      justify-content space-around\r\n      .c-left .c-center .c-right\r\n        display flex\r\n        justify-content center\r\n        box-sizing border-box\r\n      .c-left\r\n        flex 1\r\n        border-right 1px #fff dashed\r\n        display flex\r\n        flex-direction column\r\n        margin-top 0.2rem\r\n        .cpl\r\n          display flex\r\n          flex 1\r\n          justify-content center\r\n          flex-direction center\r\n          position relative\r\n          .cpl-font\r\n            position absolute\r\n            bottom 0.4rem\r\n            text-align center\r\n            color #ffffff\r\n            font-size 0.2rem\r\n        .cpl3d\r\n          width 100%\r\n          div\r\n            width 100%\r\n            height 100%\r\n      .c-center\r\n        flex 1\r\n        display flex\r\n        flex-direction column\r\n        border-right 1px #fff dashed\r\n        margin-top 0.2rem\r\n        .cpl\r\n          display flex\r\n          flex 1\r\n          justify-content center\r\n          flex-direction center\r\n          position relative\r\n          .cpl-font\r\n            position absolute\r\n            bottom 0.4rem\r\n            text-align center\r\n            color #ffffff\r\n            font-size 0.2rem\r\n        .cpl3d\r\n          width 100%\r\n          div\r\n            width 100%\r\n            height 100%\r\n      .c-right\r\n        flex 1\r\n        display flex\r\n        flex-direction column\r\n        .cpl\r\n          display flex\r\n          flex 1\r\n          flex-direction column\r\n          margin-top 0.1rem\r\n        .w-echart\r\n          margin-top 0.3rem\r\n          justify-content center\r\n          display flex\r\n          flex: 1\r\n      </style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./xfbm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./xfbm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./xfbm.vue?vue&type=template&id=63a124f6&scoped=true&\"\nimport script from \"./xfbm.vue?vue&type=script&lang=js&\"\nexport * from \"./xfbm.vue?vue&type=script&lang=js&\"\nimport style0 from \"./xfbm.vue?vue&type=style&index=0&id=63a124f6&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"63a124f6\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"w-depSeach\",on:{\"click\":function($event){return _vm.popClose($event)}}},[_c('div',{staticClass:\"outer\"},[_c('div',{staticClass:\"close\",on:{\"click\":function($event){return _vm.popClose($event)}}}),_c('div',{staticClass:\"letterList\"},[_c('ul',_vm._l((_vm.letterArr),function(item,index){return _c('li',{key:index,class:[_vm.curLetter===item.name?'active':'',item.disable?'disable':''],on:{\"click\":function($event){return _vm.letterClick(item)}}},[_vm._v(_vm._s(item.name)+\" \")])}),0)]),_c('div',{staticClass:\"tab\"},[_c('ul',{staticClass:\"clearfloat\"},_vm._l((_vm.tabArr),function(item,index){return _c('li',{key:index,class:_vm.curtab===item?'active':'',on:{\"click\":function($event){return _vm.tabClick(item,index)}}},[_vm._v(_vm._s(item)+\" \")])}),0)]),_c('div',{staticClass:\"container\"},[_c('el-scrollbar',{ref:\"myScrollbar\",staticStyle:{\"height\":\"100%\"}},[_c('div',{staticClass:\"inner\"},[_c('ul',{staticClass:\"ul-letter\"},_vm._l((_vm.allData),function(item,index){return _c('li',{key:index,ref:item.name,refInFor:true,staticClass:\"li-letter\"},[_c('p',{staticClass:\"letter\"},[_vm._v(_vm._s(item.name))]),_c('ul',{staticClass:\"ul-name\"},_vm._l((item.value),function(it,i){return _c('li',{key:i,class:['li-name',_vm.curName===it?'active':''],attrs:{\"title\":it},on:{\"click\":function($event){return _vm.changeClick(it)}}},[_vm._v(_vm._s(it)+\" \")])}),0)])}),0)])])],1),_c('div',{staticClass:\"btn\",on:{\"click\":_vm.confirm}},[_vm._v(\"确认\")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"w-depSeach\" @click=\"popClose($event)\">\r\n    <div class=\"outer\">\r\n      <div class=\"close\" @click=\"popClose($event)\"></div>\r\n      <div class=\"letterList\">\r\n        <ul>\r\n          <li\r\n            :class=\"[curLetter===item.name?'active':'',item.disable?'disable':'']\"\r\n            v-for=\"(item,index) of letterArr\"\r\n            :key=\"index\"\r\n            @click=\"letterClick(item)\"\r\n          >{{item.name}}\r\n          </li>\r\n        </ul>\r\n      </div>\r\n      <div class=\"tab\">\r\n        <ul class=\"clearfloat\">\r\n          <li\r\n            :class=\"curtab===item?'active':''\"\r\n            v-for=\"(item,index) of tabArr\"\r\n            :key=\"index\"\r\n            @click=\"tabClick(item,index)\"\r\n          >{{item}}\r\n          </li>\r\n        </ul>\r\n      </div>\r\n      <div class=\"container\">\r\n        <el-scrollbar ref=\"myScrollbar\" style=\"height:100%\">\r\n          <div class=\"inner\">\r\n            <ul class=\"ul-letter\">\r\n              <li class=\"li-letter\" :ref=\"item.name\" v-for=\"(item,index) of allData\" :key=\"index\">\r\n                <p class=\"letter\">{{item.name}}</p>\r\n                <ul class=\"ul-name\">\r\n                  <li\r\n                    :title=\"it\"\r\n                    :class=\"['li-name',curName===it?'active':'']\"\r\n                    v-for=\"(it,i) of item.value\"\r\n                    :key=\"i\"\r\n                    @click=\"changeClick(it)\"\r\n                  >{{it}}\r\n                  </li>\r\n                </ul>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        </el-scrollbar>\r\n      </div>\r\n      <div class=\"btn\" @click=\"confirm\">确认</div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import {get_http} from \"@/api/index\";\r\n\r\n  export default {\r\n    name: \"depSeach\",\r\n    props: {\r\n      name: [String]\r\n    },\r\n    data() {\r\n      return {\r\n        JB: 1,\r\n        allData: [],\r\n        letterList: ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z'],\r\n        realLetterList: [],\r\n        letterArr: [],\r\n        curLetter: 'A',\r\n        tabArr: [\"省级\", \"市级\", \"县级\"],\r\n        curtab: '省级',\r\n        curName: ''//默认不选中，展示全省数据\r\n      }\r\n    },\r\n    mounted() {\r\n      this.curName = this.name;//获取当前选中状态\r\n      this.getAPI(this.JB);\r\n    },\r\n    methods: {\r\n      getAPI(jb) {\r\n        get_http(\"depSeach\", {\r\n          jb: jb\r\n        })\r\n          .then(res => {\r\n            this.allData = res.data.data;\r\n            this.handleData();\r\n          })\r\n          .catch(err => {\r\n            console.log(err);\r\n          });\r\n      },\r\n      handleData() {\r\n        this.letterArr = [];\r\n        this.realLetterList = [];\r\n        for (let item of this.letterList.values()) {\r\n          let obj = {\r\n            \"name\": item,\r\n            \"disable\": true\r\n          };\r\n          this.letterArr.push(obj);\r\n        }\r\n        // 判断锚点是否可点击\r\n        for (let item of this.allData.values()) {\r\n          this.realLetterList.push(item.name);\r\n        }\r\n        for (let item of this.letterArr.values()) {\r\n          for (let it of this.realLetterList.values()) {\r\n            if (item.name === it) {\r\n              item.disable = false;\r\n            }\r\n          }\r\n        }\r\n        // 获取第一个可点击锚点\r\n        this.curLetter = this.allData[0].name;\r\n      },\r\n      // 跳转字母锚点\r\n      letterClick(item) {\r\n        if (item.disable) return;\r\n        this.curLetter = item.name;\r\n        this.$refs['myScrollbar'].wrap.scrollTop = this.$refs[item.name][0].offsetTop;\r\n      },\r\n      // 头部切换\r\n      tabClick(item, index) {\r\n        this.curtab = item;\r\n        this.JB = index + 1;\r\n        this.$refs['myScrollbar'].wrap.scrollTop = 0;\r\n        this.getAPI(this.JB);\r\n      },\r\n      // 名称切换\r\n      changeClick(it) {\r\n        this.curName = (this.curName === it ? '' : it);\r\n      },\r\n      // 确认按钮\r\n      confirm() {\r\n        this.$emit(\"change\", this.curName);\r\n        this.$parent.popShow = false;\r\n      },\r\n      // 关闭弹框\r\n      popClose(e) {\r\n        let node = e.target;\r\n        if (node.classList.contains('w-depSeach') || node.classList.contains('close')) {\r\n          this.$emit(\"change\", '');\r\n          this.$parent.popShow = false;\r\n        }\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"stylus\" scoped>\r\n  .w-depSeach\r\n    position fixed\r\n    top 0\r\n    left 0\r\n    z-index 10000\r\n    width 100%\r\n    height 100%\r\n    background-color rgba(0, 0, 0, 0.6)\r\n    display flex\r\n    justify-content center\r\n    align-items center\r\n    .outer\r\n      position relative\r\n      width 1127px\r\n      height 721px\r\n      background url(\"./img/bg.png\") no-repeat\r\n      .letterList\r\n        position absolute\r\n        top 100px\r\n        right 32px\r\n        ul\r\n          li\r\n            width 16px\r\n            height 16px\r\n            line-height 16px\r\n            margin 4px\r\n            font-size 12px\r\n            color #3084fe\r\n            text-align center\r\n            cursor pointer\r\n            &.disable\r\n              color #999\r\n              cursor default\r\n            &.active\r\n              color #013c3f\r\n              border-radius 2px\r\n              background-image linear-gradient(to right, #ffaa31, #41c0fb)\r\n      .close\r\n        width 15px\r\n        height 25px\r\n        position absolute\r\n        top 50px\r\n        left 60px\r\n        background url(\"./img/arrow-icon.png\") no-repeat\r\n        cursor pointer\r\n      .tab\r\n        margin 40px 0 10px 0\r\n        ul\r\n          display flex\r\n          justify-content center\r\n          li\r\n            position relative\r\n            width 120px\r\n            height 50px\r\n            line-height 50px\r\n            font-size 24px\r\n            color #1d7ebf\r\n            font-weight 700\r\n            text-align center\r\n            cursor pointer\r\n            &.active\r\n              color #fff\r\n              &:after\r\n                content ''\r\n                position absolute\r\n                bottom -6px\r\n                left 0\r\n                width 100%\r\n                height 6px\r\n                border-radius 5px\r\n                background-image linear-gradient(to right, #ffaa31, #41c0fb)\r\n      .container\r\n        position relative\r\n        left -10px\r\n        width 90%\r\n        height 520px\r\n        margin 0 auto\r\n        overflow hidden\r\n        .inner\r\n          position relative\r\n          .ul-letter\r\n            .li-letter\r\n              .letter\r\n                color #36edf7\r\n                font-size 16px\r\n                line-height 20px\r\n                margin-top 10px\r\n                padding-left 20px\r\n              .ul-name\r\n                display flex\r\n                justify-content start\r\n                flex-wrap wrap\r\n                .li-name\r\n                  width 140px\r\n                  height 32px\r\n                  margin 10px 20px\r\n                  padding 0 10px\r\n                  line-height 32px\r\n                  text-align center\r\n                  font-size 16px\r\n                  border-radius 20px\r\n                  border 1px solid #36edf7\r\n                  color #cbfbff\r\n                  white-space nowrap\r\n                  overflow hidden\r\n                  text-overflow ellipsis\r\n                  cursor pointer\r\n                  &.active\r\n                    color #013c3f\r\n                    border 1px solid transparent\r\n                    font-weight 700\r\n                    background-image linear-gradient(to right, #ffaa31, #41c0fb)\r\n      .btn\r\n        width 160px\r\n        height 44px\r\n        margin 20px auto\r\n        line-height 44px\r\n        text-align center\r\n        background url(\"./img/btn-bg.png\") no-repeat\r\n        color #cbfbff\r\n        font-size 18px\r\n        cursor pointer\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=0a77bbca&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=0a77bbca&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0a77bbca\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./xfbm.vue?vue&type=style&index=0&id=63a124f6&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./xfbm.vue?vue&type=style&index=0&id=63a124f6&lang=stylus&scoped=true&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=0a77bbca&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=0a77bbca&lang=stylus&scoped=true&\""],"sourceRoot":""}
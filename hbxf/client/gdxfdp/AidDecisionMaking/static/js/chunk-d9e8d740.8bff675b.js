(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d9e8d740"],{"2c3c":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"w-depSeach",on:{click:function(e){return t.popClose(e)}}},[a("div",{staticClass:"outer"},[a("div",{staticClass:"close",on:{click:function(e){return t.popClose(e)}}}),a("div",{staticClass:"letterList"},[a("ul",t._l(t.letterArr,(function(e,i){return a("li",{key:i,class:[t.curLetter===e.name?"active":"",e.disable?"disable":""],on:{click:function(a){return t.letterClick(e)}}},[t._v(t._s(e.name)+" ")])})),0)]),a("div",{staticClass:"tab"},[a("ul",{staticClass:"clearfloat"},t._l(t.tabArr,(function(e,i){return a("li",{key:i,class:t.curtab===e?"active":"",on:{click:function(a){return t.tabClick(e,i)}}},[t._v(t._s(e)+" ")])})),0)]),a("div",{staticClass:"container"},[a("el-scrollbar",{ref:"myScrollbar",staticStyle:{height:"100%"}},[a("div",{staticClass:"inner"},[a("ul",{staticClass:"ul-letter"},t._l(t.allData,(function(e,i){return a("li",{key:i,ref:e.name,refInFor:!0,staticClass:"li-letter"},[a("p",{staticClass:"letter"},[t._v(t._s(e.name))]),a("ul",{staticClass:"ul-name"},t._l(e.value,(function(e,i){return a("li",{key:i,class:["li-name",t.curName===e?"active":""],attrs:{title:e},on:{click:function(a){return t.changeClick(e)}}},[t._v(t._s(e)+" ")])})),0)])})),0)])])],1),a("div",{staticClass:"btn",on:{click:t.confirm}},[t._v("确认")])])])},n=[],s=(a("b0c0"),a("d3b7"),a("ddb0"),a("b85c")),o=a("365c"),r={name:"depSeach",props:{name:[String]},data:function(){return{JB:1,allData:[],letterList:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],realLetterList:[],letterArr:[],curLetter:"A",tabArr:["省级","市级","县级"],curtab:"省级",curName:""}},mounted:function(){this.curName=this.name,this.getAPI(this.JB)},methods:{getAPI:function(t){var e=this;Object(o["a"])("depSeach",{jb:t}).then((function(t){e.allData=t.data.data,e.handleData()})).catch((function(t){console.log(t)}))},handleData:function(){this.letterArr=[],this.realLetterList=[];var t,e=Object(s["a"])(this.letterList.values());try{for(e.s();!(t=e.n()).done;){var a=t.value,i={name:a,disable:!0};this.letterArr.push(i)}}catch(u){e.e(u)}finally{e.f()}var n,o=Object(s["a"])(this.allData.values());try{for(o.s();!(n=o.n()).done;){var r=n.value;this.realLetterList.push(r.name)}}catch(u){o.e(u)}finally{o.f()}var l,c=Object(s["a"])(this.letterArr.values());try{for(c.s();!(l=c.n()).done;){var h,d=l.value,m=Object(s["a"])(this.realLetterList.values());try{for(m.s();!(h=m.n()).done;){var p=h.value;d.name===p&&(d.disable=!1)}}catch(u){m.e(u)}finally{m.f()}}}catch(u){c.e(u)}finally{c.f()}this.curLetter=this.allData[0].name},letterClick:function(t){t.disable||(this.curLetter=t.name,this.$refs["myScrollbar"].wrap.scrollTop=this.$refs[t.name][0].offsetTop)},tabClick:function(t,e){this.curtab=t,this.JB=e+1,this.$refs["myScrollbar"].wrap.scrollTop=0,this.getAPI(this.JB)},changeClick:function(t){this.curName=this.curName===t?"":t},confirm:function(){this.$emit("change",this.curName),this.$parent.popShow=!1},popClose:function(t){var e=t.target;(e.classList.contains("w-depSeach")||e.classList.contains("close"))&&(this.$emit("change",""),this.$parent.popShow=!1)}}},l=r,c=(a("a227"),a("2877")),h=Object(c["a"])(l,i,n,!1,null,"0a77bbca",null);e["a"]=h.exports},5903:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:!t.params.data.length,expression:"!params.data.length"}],staticClass:"wrap",attrs:{"element-loading-background":t.$STANDARD.loadingBgColor}},[i("div",{ref:"chartEl",style:{width:t.canvasStyle.width,height:t.canvasStyle.height}}),t.params.data.length&&t.params.options.bgSize?i("img",{staticClass:"bg",style:{left:t.params.options.center[0],top:t.params.options.center[1],width:t.params.options.bgSize+"px",height:t.params.options.bgSize+"px"},attrs:{src:a("c68a"),alt:""}}):t._e()])},n=[],s=(a("99af"),a("4160"),a("fb6a"),a("b0c0"),a("a9e3"),a("159b"),a("3eba"));a("c037"),a("007d"),a("627c"),a("d28f");var o={name:"PieW",data:function(){return{interval:null,rollFlag:!1,myChart:null}},props:{animateFlag:Boolean,defaultHigh:{type:Number},params:{type:Object,default:function(){return{data:[],canvasStyle:{width:"500px",height:"500px"},options:{radius:["30%","60%"],center:["50%","50%"],length:60,length2:60,bRichPadding:[30,-50,0,-50],roseType:"area",labelSize:14,borderWidth:10,borderColor:"#fff",legend:{show:!0,left:10,top:240,itemidth:14,itemHeight:14,orient:"vertical",fontSize:14},tooltip:{show:!0},rich:{bfontsize:16,perfontsize:24},colors:[],rollFlag:!1,itemLabelShow:!0,itemEmphasisLabelShow:!0,defaultHigh:0}}}}},created:function(){var t=this;this.$nextTick((function(){t.init()}))},mounted:function(){var t=this;this.init(),this.$once("hook:beforeDestroy",(function(){t.interval&&clearInterval(t.interval),t.myChart&&t.myChart.dispose()}))},methods:{init:function(){var t=this;if(this.myChart&&this.myChart.dispose(),0!==this.params.data.length){var e=this.params.data,a=this.params.options,i=[],n=0,o=0;if(o=Number(a.radius[0].substring(0,a.radius[0].length-1))-4,n=o-1,i=[n+"%",o+"%"],this.myChart=s.init(this.$refs.chartEl),this.myChart.setOption({title:{text:a.title?a.title:"",textStyle:{color:"#fff",fontSize:"18%"},x:"center",y:"bottom"},tooltip:{show:!a.tooltip||(void 0===a.tooltip.show||a.tooltip.show),trigger:"item",backgroundColor:this.$STANDARD.tooltipBackgroundColor,padding:[10,20],textStyle:{color:this.$STANDARD.tooltipColor},position:!1===a.labelShow?["33%","35%"]:null,formatter:function(t){return t.name?"".concat(t.marker).concat(t.name," : ").concat(t.value):""}},legend:{show:!!a.legend&&a.legend.show,selectedMode:void 0===a.legend.selectedMode||a.legend.selectedMode,left:a.legend&&a.legend.left?a.legend.left:"left",top:a.legend&&a.legend.top?a.legend.top:"top",itemWidth:a.legend.itemWidth?a.legend.itemWidth:14,itemHeight:a.legend.itemHeight?a.legend.itemHeight:14,textStyle:{fontSize:a.legend.fontSize?a.legend.fontSize:this.$STANDARD.h4.fontSize,color:a.legend?a.legend.color:this.$STANDARD.legendColor},icon:"circle",itemGap:15,orient:a.legend&&a.legend.orient?a.legend.orient:"vertical"},series:[{name:"分析",type:"pie",center:a.center||["50%","50%"],roseType:a.roseType?a.roseType:"",radius:void 0===a.radius?["0%","60%"]:a.radius,minAngle:6,label:{normal:{show:!1,position:"center",formatter:function(t){if(t.name.length>7)return"{b|".concat(t.name.slice(0,6),"\n").concat(t.name.slice(6,t.name.length),"}\n{d|").concat(t.percent,"%}");var e="";return e=a.threeLevel?"{b|".concat(t.value,"}\n{b|").concat(t.name,"}\n{d|").concat(t.percent,"%}"):"{b|".concat(t.name,"}\n{d|").concat(t.percent,"%}"),e},rich:{d:{fontSize:a.labelRich&&a.labelRich.d?a.labelRich.d:this.fontSize(.22),fontWeight:"bold",lineHeight:a.labelRich&&a.labelRich.dHeight?a.labelRich.dHeight:this.fontSize(.4),color:"#e03562"},b:{fontSize:a.labelRich&&a.labelRich.b?a.labelRich.b:this.fontSize(.2),fontWeight:"bold",lineHeight:a.labelRich&&a.labelRich.bHeight?a.labelRich.bHeight:this.fontSize(.4),color:function(t){return Array.isArray(a.colors[t.dataIndex])?a.colors[t.dataIndex][0]:a.colors[t.dataIndex]}}}},emphasis:{show:!0}},itemStyle:{borderColor:a.borderColor?a.borderColor:"transparent",borderWidth:a.borderWidth?a.borderWidth:0,color:function(t){return Array.isArray(a.colors[t.dataIndex])?{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:a.colors[t.dataIndex][0]},{offset:1,color:a.colors[t.dataIndex][1]}],global:!1}:a.colors[t.dataIndex]}},labelLine:{length:a.length?a.length:10,length2:a.length2?a.length2:10},data:e},{type:"pie",hoverAnimation:!1,center:a.center||["50%","50%"],radius:i,data:[100],label:{show:!1},itemStyle:{normal:{color:"#0e90cc"},emphasis:{show:!1}}}]}),this.rollFlag=this.params.options.rollFlag,this.myChart.on("click",(function(e){"series"===e.componentType?(t.$emit("departmentClick",e.name),e.allData={data:t.params.data,params:e},t.$emit("canvasClick",e.allData)):t.$emit("departmentClick",e.value)})),this.rollFlag)this.chartMove(),this.myChart.on("mouseover",(function(e){1!==e.seriesIndex&&(t.rollFlag=!1,e.dataIndex!==t.app.currentIndex&&t.myChart.dispatchAction({type:"downplay",dataIndex:t.app.currentIndex}))})),this.myChart.on("mouseout",(function(e){t.rollFlag=!0}));else{var r=this.defaultHigh;if(""!==r&&void 0!==r){this.myChart.dispatchAction({type:"highlight",seriesIndex:0,dataIndex:r});var l=this;l.myChart.on("mouseover",(function(t){for(var a=e.length,i=0;i<a;i++)i!=t.dataIndex&&l.myChart.dispatchAction({type:"downplay",seriesIndex:0,dataIndex:i})})),l.myChart.on("mouseout",(function(t){l.myChart.dispatchAction({type:"highlight",seriesIndex:0,dataIndex:r})}))}}}},chartMove:function(){var t=this;this.app={},this.app.currentIndex=-1,this.interval&&clearInterval(this.interval),this.interval=setInterval((function(){var e=t.params.data.length;t.rollFlag&&(t.myChart.dispatchAction({type:"downplay",seriesIndex:0,dataIndex:t.app.currentIndex}),t.app.currentIndex=(t.app.currentIndex+1)%e,t.myChart.dispatchAction({type:"highlight",seriesIndex:0,dataIndex:t.app.currentIndex}),t.myChart.dispatchAction({type:"showTip",seriesIndex:0,dataIndex:t.app.currentIndex}))}),2e3)},fontSize:function(t){document.documentElement;var e=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;if(e){var a=e/1920*100;return t*a}}},computed:{sum:function(){var t=0;return this.params.data.forEach((function(e){t+=e.value})),t},ishow:function(){return!1!==this.params.options.labelShow&&!1!==this.params.options.showsum},canvasStyle:function(){return{width:this.params.canvasStyle?this.params.canvasStyle.width:"100%",height:this.params.canvasStyle?this.params.canvasStyle.height:"100%"}}},watch:{"params.data":{handler:function(t,e){this.init()},deep:!0}}},r=o,l=(a("7e59"),a("2877")),c=Object(l["a"])(r,i,n,!1,null,"5d89441e",null);e["a"]=c.exports},"7e59":function(t,e,a){"use strict";var i=a("a721"),n=a.n(i);n.a},"88cc":function(t,e,a){},a227:function(t,e,a){"use strict";var i=a("88cc"),n=a.n(i);n.a},a721:function(t,e,a){},c68a:function(t,e,a){t.exports=a.p+"static/img/pie-bg.5c41da41.png"},cfa2:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrapper"},[a("div",{staticClass:"w-seach",on:{click:t.handlePopShow}},[a("p",{attrs:{title:t.curName.length>6?t.curName:""}},[t._v(t._s(t.curName))])]),a("transition",{attrs:{name:"fade"}},[t.popShow?a("depSeach",{attrs:{name:t.curName},on:{change:t.popClick}}):t._e()],1),a("div",{staticClass:"content"},[a("div",{staticClass:"c-top"},[a("div",{staticClass:"part ct-left"},[a("ctitle",{attrs:{title:"信访部门信访走势"}}),a("div",{staticClass:"inner"},[a("pictorialBar",{staticClass:"chart",attrs:{params:t.xfqsBarParams}})],1)],1),a("div",{staticClass:"part ct-right"},[a("ctitle",{attrs:{title:"投诉问题占比"}}),a("div",{staticClass:"inner"},[a("loopPie",{staticClass:"chart",attrs:{params:t.tswtzbPieParams}})],1)],1)]),a("div",{staticClass:"c-btm"},[a("div",{staticClass:"part"},[a("ctitle",{attrs:{title:"人数规模占比"}}),a("div",{staticClass:"inner"},[a("loopPie",{staticClass:"chart",attrs:{params:t.rsgmzbPieParams}})],1)],1),a("div",{staticClass:"part"},[a("ctitle",{attrs:{title:"重复访次数占比"}}),a("div",{staticClass:"inner"},[a("loopPie",{staticClass:"chart",attrs:{params:t.cffcszbPieParams}})],1)],1),a("div",{staticClass:"part"},[a("ctitle",{attrs:{title:"走访形式占比"}}),a("div",{staticClass:"inner"},[a("loopPie",{staticClass:"chart",attrs:{params:t.zfxszbPieParams}})],1)],1)])])],1)},n=[],s=a("365c"),o=a("2c3c"),r=a("9539"),l=a("5903"),c=a("f203"),h={name:"xfbm",components:{depSeach:o["a"],ctitle:r["a"],loopPie:l["a"],pictorialBar:c["a"]},data:function(){return{popShow:!1,curName:"部门索引",xfqsBarParams:{canvasStyle:{width:"100%",height:"100%"},data:[],options:{splitNumber:6,valueKey:"value",circleShow:!0,symbol:'path://d="M 0 0 15 0 8 108 0 0z"',symbolSize:[20,"100%"],barColor:"#ffc07d",top:"12%",bottom:"20%",left:"10%",right:"5%",splitLineShow:!0,axisCategoryName:"月",axisYName:"件次"}},tswtzbPieParams:{canvasStyle:{width:"100%",height:"100%"},data:[],options:{bgSize:220,colors:this.$STANDARD.pieColors,radius:["45%","55%"],center:["50%","50%"],centerRadius:["40%","41%"],labelRich:{b:this.fontSize(.18),d:this.fontSize(.2),bHeight:this.fontSize(.3)},length:20,length2:70,itemLabelShow:!0,legend:{show:!1},rich:{bfontsize:"16%"},labelSize:"24%",rollFlag:!0,threeLevel:!0}},rsgmzbPieParams:{canvasStyle:{width:"100%",height:"100%"},data:[],options:{colors:this.$STANDARD.gradientColors,radius:["50%","65%"],center:["50%","50%"],centerRadius:["42%","43%"],labelRich:{b:this.fontSize(.2),d:this.fontSize(.22),bHeight:this.fontSize(.3)},length:20,length2:45,borderWidth:this.fontSize(.05),bRichPadding:[30,-45,0,-45],tooltip:{show:!0},itemLabelShow:!0,legend:{show:!1},rich:{bfontsize:"14%"},labelSize:"22%",rollFlag:!0}},cffcszbPieParams:{canvasStyle:{width:"100%",height:"100%"},data:[],options:{colors:this.$STANDARD.gradientColors,radius:["50%","65%"],center:["50%","50%"],centerRadius:["42%","43%"],labelRich:{b:this.fontSize(.2),d:this.fontSize(.22),bHeight:this.fontSize(.3)},length:20,length2:45,borderWidth:this.fontSize(.05),bRichPadding:[30,-45,0,-45],tooltip:{show:!0},itemLabelShow:!0,legend:{show:!1},rich:{bfontsize:"14%"},labelSize:"22%",rollFlag:!0}},zfxszbPieParams:{canvasStyle:{width:"100%",height:"100%"},data:[],options:{bgSize:220,colors:this.$STANDARD.gradientColors,radius:["45%","55%"],center:["50%","50%"],centerRadius:["40%","41%"],labelRich:{b:this.fontSize(.18),d:this.fontSize(.2),bHeight:this.fontSize(.3)},length:20,length2:70,itemLabelShow:!0,legend:{show:!1},rich:{bfontsize:"16%"},labelSize:"24%",rollFlag:!0,threeLevel:!0}}}},mounted:function(){this.getAPI(this.year,this.curName)},methods:{handlePopShow:function(){this.popShow=!0},popClick:function(t){this.curName=""===t?"部门索引":t,this.getAPI(this.year,this.curName)},getAPI:function(t,e){var a=this,i="部门索引"===e?"drop":e;Object(s["a"])("zfxwXfbmXfzsBar",{xfbm:i,year:t}).then((function(t){a.xfqsBarParams.data=t.data.data})).catch((function(t){console.log(t)})),Object(s["a"])("zfxwXfbmTswtzbPie",{xfbm:i,year:t}).then((function(t){a.tswtzbPieParams.data=t.data.data})).catch((function(t){console.log(t)})),Object(s["a"])("zfxwXfbmRsgmzbPie",{xfbm:i,year:t}).then((function(t){a.rsgmzbPieParams.data=t.data.data})).catch((function(t){console.log(t)})),Object(s["a"])("zfxwXfbmCffcszbPie",{xfbm:i,year:t}).then((function(t){a.cffcszbPieParams.data=t.data.data})).catch((function(t){console.log(t)})),Object(s["a"])("zfxwXfbmZfxszbPie",{xfbm:i,year:t}).then((function(t){a.zfxszbPieParams.data=t.data.data})).catch((function(t){console.log(t)}))},fontSize:function(t){document.documentElement;var e=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;if(e){var a=e/1920*100;return t*a}}},computed:{year:function(){return this.$store.state.year}},watch:{year:function(t){this.getAPI(t,this.curName)}}},d=h,m=(a("ef3b"),a("2877")),p=Object(m["a"])(d,i,n,!1,null,"41566646",null);e["default"]=p.exports},ef3b:function(t,e,a){"use strict";var i=a("f9c5"),n=a.n(i);n.a},f203:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:!t.params.data.length,expression:"!params.data.length"}],ref:"chartEl",style:{width:t.params.canvasStyle.width,height:t.params.canvasStyle.height},attrs:{"element-loading-background":t.$STANDARD.loadingBgColor}})},n=[],s=(a("4160"),a("b0c0"),a("159b"),a("313e")),o=a("dd01"),r={name:"pictorialBar",props:{animateFlag:!1,params:{type:Object,default:function(){return{canvasStyle:{width:"1000px",height:"600px"},options:{barColors:this.$STANDARD.barColors,labelCut:!0},data:[]}}}},data:function(){return{myChart:null}},mounted:function(){var t=this;this.init(),this.$once("hook:beforeDestroy",(function(){t.interval&&clearInterval(t.interval),t.myChart&&t.myChart.dispose()}))},methods:{init:function(){var t=this;if(this.myChart&&(this.myChart.dispose(),this.myChart=null),0!==this.params.data.length){this.myChart=s["init"](this.$refs.chartEl);var e=this.params.options,a=[],i=[];this.params.data.forEach((function(e){a.push(e.name),i.push(e[t.params.options.valueKey?t.params.options.valueKey:"value"])}));var n={tooltip:{trigger:"axis",backgroundColor:this.$STANDARD.tooltipBackgroundColor,padding:[10,20],axisPointer:{type:"shadow"},formatter:function(t){return e.axisCategoryName?t[0].name+e.axisCategoryName+"<br/>"+t[0].value.toLocaleString():t[0].name+" : "+t[0].value.toLocaleString()}},grid:{top:e.top?e.top:"5%",bottom:e.bottom?e.bottom:"5%",left:e.left?e.left:"5%",right:e.right?e.right:"5%"},xAxis:{type:"category",name:e.axisCategoryName?e.axisCategoryName:"",nameLocation:e.nameLocation?"start":"end",nameTextStyle:{color:e.XaxisNameColor?e.XaxisNameColor:"#fff",fontSize:e.axisLabelSize?e.axisLabelSize:20},data:a,axisLine:{show:!0,lineStyle:{width:2,color:this.$STANDARD.xAxisLineColor}},axisTick:{alignWithLabel:!0,show:!!e.axisTickShow,inside:!0},axisLabel:{interval:0,margin:10,fontSize:16,color:this.$STANDARD.xAxisColor},splitLine:{show:!1}},yAxis:{type:"value",name:e.axisYName?e.axisYName:"",nameLocation:e.nameLocation?"start":"end",nameTextStyle:{color:e.YaxisNameColor?e.YaxisNameColor:"#ff517f",fontSize:e.axisLabelSize?e.axisLabelSize:14,fontWeight:"bold",padding:[0,45,0,0]},splitNumber:e.splitNumber?e.splitNumber:5,axisLabel:{show:!e.YaxisaxisLabelShow,margin:10,fontSize:14,color:function(t,a){var i=[],n=e.splitNumber?e.splitNumber:5;if(a<n){for(var s=0;s<n;s++)i.push(0);var r=Object(o["a"])(i,"#fdc48d","#ff517f");return r(a)}return"#ff517f"}},axisLine:{show:!!e.YaxisLineShow,width:2,type:"dotted",color:this.$STANDARD.yAxisSplitLineColor},axisTick:{show:!1},splitLine:{show:!!e.splitLineShow,lineStyle:{type:"dashed",color:"#2c344c"}}},series:[{name:"数量",type:"pictorialBar",symbol:this.params.options.symbol,symbolSize:this.params.options.symbolSize,itemStyle:{color:this.params.options.gradient?new s["graphic"].LinearGradient(0,0,0,1,[{offset:0,color:this.params.options.gradient[0]},{offset:1,color:this.params.options.gradient[1]}]):this.params.options.barColor},data:i},{name:"圆圈",type:"pictorialBar",symbolSize:this.params.options.circleShow?[30,30]:[0,0],symbolOffset:[0,-10],z:12,symbolPosition:"end",itemStyle:{color:this.params.options.barColor},data:i}]};this.myChart.setOption(n)}}},watch:{animateFlag:{handler:function(t,e){this.init()},deep:!0},"params.data":{handler:function(t,e){this.init()},deep:!0}}},l=r,c=a("2877"),h=Object(c["a"])(l,i,n,!1,null,"c1e30822",null);e["a"]=h.exports},f9c5:function(t,e,a){}}]);
//# sourceMappingURL=chunk-d9e8d740.8bff675b.js.map
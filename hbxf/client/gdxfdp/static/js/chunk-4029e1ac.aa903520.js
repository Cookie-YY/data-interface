(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4029e1ac"],{1646:function(t,a,e){"use strict";var s=e("7923"),n=e.n(s);n.a},"23b6":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"wrapper"},[e("div",{staticClass:"content"},[e("div",{staticClass:"w-left"},[e("ctitle",{attrs:{title:"信访量一级内容分布"}}),e("div",{staticClass:"left-t"},[e("div",{staticClass:"count"},[e("allCount",{staticClass:"all-count",attrs:{count:t.allcount}})],1),e("div",{staticClass:"detail"},[e("detailList",{attrs:{params:t.detailList}})],1)]),e("div",{staticClass:"inner3"},[e("div",{staticClass:"chart"},[e("pie-chart3D",{attrs:{params:t.wtflPieParams},on:{change:t.popShow}})],1)])],1),e("div",{staticClass:"w-right"},[e("ctitle",{attrs:{title:"信访量一级内容热点"}}),e("div",{staticClass:"inner"},t._l(t.hotListData,(function(a,s){return a.data.length?e("hotList",{key:s,attrs:{params:a}}):t._e()})),1)],1)]),t.popLists?e("popLists",{ref:"popLists",attrs:{data:t.popLists}}):t._e()],1)},n=[],i=(e("99af"),e("b0c0"),e("365c")),r=(e("dd01"),e("9539")),l=e("840a"),c=e("8d3a"),u=e("910f"),o=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"hot-list"},[e("div",{staticClass:"hotYear"},[e("p",[t._v(t._s(t.params.year)+"年")])]),e("div",{staticClass:"w-rank"},[t._m(0),e("div",{staticClass:"chart"},t._l(t.params.data,(function(a,s){return e("div",{key:s,staticClass:"bar-item"},[e("label",{attrs:{title:a.name}},[t._v(t._s(a.name))]),e("div",{staticClass:"bar-cont"},[e("div",{staticClass:"bar-img",style:{width:t.barW(a.value)}})]),e("div",{staticClass:"inc"},[t._v(t._s(a.value))])])})),0)])])},d=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"rankList"},[e("p",[t._v("1")]),e("p",[t._v("2")]),e("p",[t._v("3")])])}],p=(e("d3b7"),e("ddb0"),e("3835")),h=e("b85c"),m={name:"hotList",props:{params:{type:Object}},data:function(){return{hotListData:[],barBgW:0}},mounted:function(){var t,a=Object(h["a"])(this.params.data.entries());try{for(a.s();!(t=a.n()).done;){var e=Object(p["a"])(t.value,2),s=(e[0],e[1]);this.barBgW=this.barBgW>s.value?this.barBgW:s.value}}catch(n){a.e(n)}finally{a.f()}},methods:{barW:function(t){return t/this.barBgW*100+"%"}}},f=m,b=(e("dfc7"),e("2877")),v=Object(b["a"])(f,o,d,!1,null,"3c952623",null),g=v.exports,y=e("852e"),_={name:"nrfl",props:{btnStatus:{type:String}},components:{ctitle:r["a"],PieChart3D:l["a"],allCount:c["a"],detailList:u["a"],hotList:g,popLists:y["a"]},data:function(){return{popLists:null,wtflPieParams:{data:[],color:["#6f69ff","#59eaff","#74d650","#f0ff87","#ff965d","#5fffb6","#61c6ff","#dda2ea","#745cc5","#ffc343","#fb548f","#a7f68d","#6994ff"],angle:30,radius:"40%",labelRadius:60,depth3D:30,styleObj:{width:"100%",height:"100%"}},detailList:{},allcount:-1,hotListData:[],hotYearArr:[],hotListIndex:0}},mounted:function(){this.getAPI(this.date)},methods:{popShow:function(t){var a=this,e=t.id;e&&Object(i["a"])("popLists",{value_id:e,name:t.name}).then((function(t){a.popLists=t.data,a.$nextTick((function(){a.$refs.popLists.popListsShow=!0}))})).catch((function(t){console.log(t)}))},handleHotList:function(){var t=new Date,a=t.getFullYear();this.hotYearArr=[a,a-1,a-2],this.getHotListAPI()},getHotListAPI:function(){var t=this;Object(i["a"])("qjywjkXfjjkNrflHotBar",{year:this.hotYearArr[this.hotListIndex]}).then((function(a){if(t.hotListIndex<t.hotYearArr.length){var e={year:t.hotYearArr[t.hotListIndex],data:a.data.data};t.hotListData.push(e),t.hotListIndex++,t.getHotListAPI()}})).catch((function(t){console.log(t)}))},getAPI:function(t){var a=this;Object(i["a"])("qjywjkNrflZbTotal",{day:"[".concat(t.startDate,",").concat(t.endDate,"]"),gd_id3:this.btnStatus}).then((function(t){a.allcount=t.data.data[0].value})).catch((function(t){console.log(t)})),Object(i["a"])("qjywjkNrflZbType",{gd_id3:this.btnStatus,day:"[".concat(t.startDate,",").concat(t.endDate,"]"),limit:3}).then((function(t){a.detailList=t.data})).catch((function(t){console.log(t)})),Object(i["a"])("qjywjkNrflWtflPie",{gd_id3:this.btnStatus,day:"[".concat(t.startDate,",").concat(t.endDate,"]")}).then((function(t){a.wtflPieParams.data=t.data.data})).catch((function(t){console.log(t)})),this.handleHotList()}},computed:{date:function(){return this.$store.state.date}},watch:{date:function(t){this.getAPI(t)},btnStatus:function(t){this.getAPI(this.date)}}},C=_,x=(e("f9a3"),Object(b["a"])(C,s,n,!1,null,"cc6c5514",null));a["default"]=x.exports},"4c1e":function(t,a,e){},"4de4":function(t,a,e){"use strict";var s=e("23e7"),n=e("b727").filter,i=e("1dde"),r=e("ae40"),l=i("filter"),c=r("filter");s({target:"Array",proto:!0,forced:!l||!c},{filter:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}})},"65ab":function(t,a,e){},"710a":function(t,a,e){},7707:function(t,a,e){},7923:function(t,a,e){},"852e":function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("transition",{attrs:{name:"fade"}},[t.popListsShow?e("div",{staticClass:"pop",on:{click:function(a){if(a.target!==a.currentTarget)return null;t.popListsShow=!1}}},[e("div",{staticClass:"pop-wrapper",style:{marginTop:t.popMarginTop+"px"}},[e("div",{staticClass:"inner"},[e("ul",{staticClass:"list-ul list-title clearfloat"},t._l(Object.values(t.data.map),(function(a,s){return e("li",{key:s,style:{width:t.columnW[s]+"px"}},[t._v(" "+t._s(a)+" ")])})),0),e("el-scrollbar",{style:{height:t.list.length>t.singlePageNum?t.liItemH*t.singlePageNum+"px":t.list.length*t.liItemH+"px"}},[e("div",{staticClass:"lists-container",style:{height:t.data.length*t.liItemH+"px"}},t._l(t.list,(function(a,s){return t.list.length?e("ul",{key:a.a,staticClass:"list-ul clearfloat"},t._l(Object.keys(t.data.map),(function(s,n){return e("li",{key:s,style:{width:t.columnW[n]+"px"}},[t._v(" "+t._s(a[s])+" ")])})),0):t._e()})),0)])],1)])]):t._e()])},n=[],i={name:"index",props:{data:{type:Object,default:{}}},data:function(){return{popListsShow:!1,singlePageNum:10,popMarginTop:0,liItemH:70,columnW:[210,120,120,130,210,150,130,90,110,110,110,110]}},mounted:function(){var t=this.list.length>this.singlePageNum?this.singlePageNum:this.list.length;this.popMarginTop=(1080-(t+1)*this.liItemH-56)/2},computed:{list:function(){return this.data.data}}},r=i,l=(e("b2b2"),e("2877")),c=Object(l["a"])(r,s,n,!1,null,"352ff444",null);a["a"]=c.exports},"8d3a":function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.count<0,expression:"count<0"}],staticClass:"all-count",attrs:{"element-loading-background":t.$STANDARD.loadingBgColor}},[t.count>=0?e("div",{staticClass:"inner"},[e("incNumber",{staticClass:"number",style:{width:32*t.numMaxLength+"px"},attrs:{incNumber:t.count}}),e("span",{staticClass:"unit"},[t._v("件 次")])],1):t._e()])},n=[],i=(e("a9e3"),e("d3b7"),e("25f0"),e("ad97")),r={name:"allCount",components:{incNumber:i["a"]},props:{count:{type:Number,default:-1}},data:function(){return{numMaxLength:this.count.toString().length}},watch:{count:function(){this.count&&(this.numMaxLength=this.count.toString().length)}}},l=r,c=(e("1646"),e("2877")),u=Object(c["a"])(l,s,n,!1,null,"a7f7c144",null);a["a"]=u.exports},"910f":function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{directives:[{name:"loading",rawName:"v-loading",value:!t.listData.length,expression:"!listData.length"}],staticClass:"detail-list",attrs:{"element-loading-background":t.$STANDARD.loadingBgColor}},[e("div",{staticClass:"inner"},[e("ul",t._l(t.listData.slice(0,t.breakNumber),(function(a,s){return e("li",{key:s,staticClass:"item"},[e("p",{staticClass:"label",attrs:{title:a.name}},[t._v(t._s(a.name))]),e("div",{staticClass:"item-detail"},[e("p",{staticClass:"jc"},[e("incNumber",{staticClass:"number",style:{width:15*t.numMaxLength+"px"},attrs:{incNumber:a[t.mapKey[t.getArrayIndex("信访件次")]]}}),e("span",{staticClass:"number-unit"},[t._v("件次")]),e("incNumber",{staticClass:"percent",attrs:{incNumber:(100*a[t.mapKey[t.getArrayIndex("件次占比")]]).toFixed(2)}}),e("span",[t._v(t._s(a[t.mapKey[t.getArrayIndex("件次占比")]]))]),e("span",{staticClass:"per-unit"},[t._v("%")])],1),e("div"),e("p",{staticClass:"rc"},[e("incNumber",{staticClass:"number",style:{width:15*t.numMaxLength+"px"},attrs:{incNumber:a[t.mapKey[t.getArrayIndex("信访人次")]]}}),e("span",{staticClass:"number-unit"},[t._v("人次")]),e("incNumber",{staticClass:"percent",attrs:{incNumber:(100*a[t.mapKey[t.getArrayIndex("人次占比")]]).toFixed(2)}}),e("span",{staticClass:"per-unit"},[t._v("%")])],1)])])})),0),100!==t.breakNumber&&t.listData.length>t.breakNumber?e("ul",t._l(t.listData.slice(t.breakNumber),(function(a,s){return e("li",{key:s,staticClass:"item"},[e("p",{staticClass:"label",attrs:{title:a.name}},[t._v(t._s(a.name))]),e("div",{staticClass:"item-detail"},[e("p",{staticClass:"jc"},[e("incNumber",{staticClass:"number",style:{width:15*t.numMaxLength+"px"},attrs:{incNumber:a[t.mapKey[t.getArrayIndex("信访件次")]]}}),e("span",{staticClass:"number-unit"},[t._v("件次")]),e("incNumber",{staticClass:"percent",attrs:{incNumber:(100*a[t.mapKey[t.getArrayIndex("件次占比")]]).toFixed(2)}}),e("span",{staticClass:"per-unit"},[t._v("%")])],1),e("div"),e("p",{staticClass:"rc"},[e("incNumber",{staticClass:"number",style:{width:15*t.numMaxLength+"px"},attrs:{incNumber:a[t.mapKey[t.getArrayIndex("信访人次")]]}}),e("span",{staticClass:"number-unit"},[t._v("人次")]),e("incNumber",{staticClass:"percent",attrs:{incNumber:(100*a[t.mapKey[t.getArrayIndex("人次占比")]]).toFixed(2)}}),e("span",{staticClass:"per-unit"},[t._v("%")])],1)])])})),0):t._e()])])},n=[],i=(e("4de4"),e("d81d"),e("a9e3"),e("b64b"),e("d3b7"),e("07ac"),e("25f0"),e("ad97")),r={name:"detailList",components:{incNumber:i["a"]},props:{params:{type:[Object,Array],default:null},breakNumber:{type:Number,default:100}},data:function(){return{mapKey:[],mapValue:[],numMaxLength:0,listData:[]}},mounted:function(){},methods:{setLength:function(){this.mapKey=Object.keys(this.params.map),this.mapValue=Object.values(this.params.map);var t=[];this.params instanceof Array?this.listData=this.params:this.listData=this.params.data,this.listData.filter((function(a){t.push(Math.max(a.value_g0_1,a.value_g2_1).toString().length)})),this.numMaxLength=Math.max.apply(null,t)},getArrayIndex:function(t){var a=this.mapValue.length;while(a--)if(this.mapValue[a]===t)return a;return-1}},computed:{styleType:function(){return this.$store.state.styleType}},watch:{params:function(){this.setLength()}}},l=r,c=(e("eeab"),e("2877")),u=Object(c["a"])(l,s,n,!1,null,"d90025a6",null);a["a"]=u.exports},aca2:function(t,a,e){"use strict";var s=e("4c1e"),n=e.n(s);n.a},ad97:function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"incNumber"},[t._v(t._s(t.number))])},n=[],i=(e("a9e3"),e("b680"),e("d3b7"),e("ac1f"),e("25f0"),e("5319"),e("1276"),{name:"index",props:{incNumber:{type:[Number,String],default:function(){return 0}}},data:function(){return{number:0}},created:function(){this.init()},methods:{init:function(){this.NumAutoPlusAnimation({time:3e3,num:this.incNumber,regulator:100})},NumAutoPlusAnimation:function(t){var a=this;t=t||{};var e,s,n=t.time||10,i=void 0===t.num?0:t.num,r=t.regulator||100,l=i/(n/r),c=0,u=0;i%1!==0&&(e=String(i).split("."),s=e[1].length);var o=setInterval((function(){c+=l,c>=i&&(clearInterval(o),c=i);var t=0;t=i%1===0?Math.floor(c):c.toFixed(s),t!==u&&(u=t,a.number=u)}),50)},formatMoney:function(t,a){if(/[^0-9\.]/.test(t))return"0.00";if(null==t||"null"==t||""==t)return"0.00";t=t.toString().replace(/^(\d*)$/,"$1."),t=(t+"00").replace(/(\d*\.\d\d)\d*/,"$1"),t=t.replace(".",",");var e=/(\d)(\d{3},)/;while(e.test(t))t=t.replace(e,"$1,$2");if(t=t.replace(/,(\d\d)$/,".$1"),0==a){var s=t.split(".");"00"==s[1]&&(t=s[0])}return t}},watch:{incNumber:{handler:function(t,a){this.number=t,this.init()},deep:!0}}}),r=i,l=(e("aca2"),e("2877")),c=Object(l["a"])(r,s,n,!1,null,"28b38ba0",null);a["a"]=c.exports},b2b2:function(t,a,e){"use strict";var s=e("65ab"),n=e.n(s);n.a},c5150:function(t,a,e){},dfc7:function(t,a,e){"use strict";var s=e("c5150"),n=e.n(s);n.a},eeab:function(t,a,e){"use strict";var s=e("7707"),n=e.n(s);n.a},f9a3:function(t,a,e){"use strict";var s=e("710a"),n=e.n(s);n.a}}]);
//# sourceMappingURL=chunk-4029e1ac.aa903520.js.map